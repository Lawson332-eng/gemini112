<!--pages/three-cards/three-cards.wxml-->
<view class="container three-cards-page">
  <view class="title-section fade-in">
    <text class="page-title gradient-text">ä¸‰ç‰Œé˜µå åœ</text>
    <text class="page-subtitle">è¿‡å»Â·ç°åœ¨Â·æœªæ¥</text>
  </view>

  <view class="cards-container" wx:if="{{step < 3}}">
    <text class="step-hint">{{stepHints[step]}}</text>
    <view class="card-placeholder glass-card glow-animation" bindtap="drawNextCard">
      <text class="tap-to-draw">ç‚¹å‡»æŠ½ç‰Œ</text>
      <text class="position-icon">{{positionIcons[step]}}</text>
    </view>
  </view>

  <view class="result-display fade-in" wx:if="{{step === 3}}">
    <view class="three-cards-layout">
      <view class="position-card glass-card" wx:for="{{drawnCards}}" wx:key="position">
        <text class="position-label">{{item.positionName}}</text>
        <view class="mini-card">
          <text class="mini-card-num">{{item.number}}</text>
        </view>
        <text class="position-card-name">{{item.name}}</text>
        <text class="position-status">{{item.isReversed ? 'é€†ä½' : 'æ­£ä½'}}</text>
      </view>
    </view>

    <view class="comprehensive-meaning glass-card">
      <text class="meaning-title">ğŸ”® ç»¼åˆè§£è¯»</text>
      <text class="meaning-text">è¿™ä¸‰å¼ ç‰Œæ­ç¤ºäº†ä½ ç”Ÿå‘½å†ç¨‹çš„è„‰ç»œã€‚{{overallMeaning}}</text>
    </view>

    <view class="action-buttons">
      <button class="btn-secondary" bindtap="reset">é‡æ–°å åœ</button>
      <button class="btn-primary" bindtap="saveRecord">ä¿å­˜è®°å½•</button>
    </view>
  </view>
</view>
